<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Coding Reference | Reproducible statistics for psychologists with R</title>
<meta name="author" content="Matthew J. C. Crump">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.5.3/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.3.9000/tabs.js"></script><script src="libs/bs3compat-0.2.3.9000/bs3compat.js"></script><link href="libs/bs_font_google_work%20sans-0.2.3.9000/font.css" rel="stylesheet">
<link href="libs/bs_font_google_major%20mono%20display-0.2.3.9000/font.css" rel="stylesheet">
<link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-79429674-12"></script><script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-79429674-12');
        </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="custom.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Lab Tutorials">Reproducible statistics for psychologists with R</a>:
        <small class="text-muted">Lab Tutorials</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li class="book-part">Getting started</li>
<li><a class="" href="r-rstudio-github.html">R, RStudio, &amp; Github</a></li>
<li><a class="" href="basic-r-programming.html">Basic R programming</a></li>
<li><a class="" href="practice-problems.html">Practice problems</a></li>
<li><a class="active" href="coding-reference.html">Coding Reference</a></li>
<li class="book-part">Labs</li>
<li><a class="" href="basics.html"><span class="header-section-number">1</span> Basics</a></li>
<li><a class="" href="lab-2-descriptives.html"><span class="header-section-number">2</span> Lab 2 Descriptives</a></li>
<li><a class="" href="distributions-i.html"><span class="header-section-number">3</span> Distributions I</a></li>
<li><a class="" href="distributions-ii.html"><span class="header-section-number">4</span> Distributions II</a></li>
<li><a class="" href="sampling-distributions.html"><span class="header-section-number">5</span> Sampling Distributions</a></li>
<li><a class="" href="statistical-inference.html"><span class="header-section-number">6</span> Statistical Inference</a></li>
<li><a class="" href="binomial-test.html"><span class="header-section-number">7</span> Binomial Test</a></li>
<li><a class="" href="z-tests.html"><span class="header-section-number">8</span> Z tests</a></li>
<li><a class="" href="chi-square.html"><span class="header-section-number">9</span> Chi Square</a></li>
<li><a class="" href="t-tests.html"><span class="header-section-number">10</span> T-tests</a></li>
<li><a class="" href="correlation.html"><span class="header-section-number">11</span> Correlation</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/CrumpLab/psyc7709Lab/bookdown">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="coding-reference" class="section level1 unnumbered" number="">
<h1>Coding Reference<a class="anchor" aria-label="anchor" href="#coding-reference"><i class="fas fa-link"></i></a>
</h1>
<p>This page contains minimal explanations and examples for common coding patterns in base R and tidyverse. Students can make content requests and contribute to this reference page, just leave a message on the github issues for this course repository.</p>
<div id="base-r" class="section level2" number="0.11">
<h2>
<span class="header-section-number">0.11</span> Base R<a class="anchor" aria-label="anchor" href="#base-r"><i class="fas fa-link"></i></a>
</h2>
<p>Base R refers to intrinsics capabilities of R that come with a fresh installation of R. No additional libraries are needed.</p>
<hr>
</div>
<div id="variables" class="section level2" number="0.12">
<h2>
<span class="header-section-number">0.12</span> Variables<a class="anchor" aria-label="anchor" href="#variables"><i class="fas fa-link"></i></a>
</h2>
<p><code>a</code> is the variable name. <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> is the assignment operator. In this example, <code>1</code> is being assigned into the object named <code>a</code>.</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span></code></pre></div>
<p>Variables have classes that describe their contents.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "numeric"</code></pre>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="st">"1"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "character"</code></pre>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">z</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "logical"</code></pre>
<p>Classes allow and disallow some commands. For example, you can’t add a numeric to a character:</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">+</span><span class="va">y</span></code></pre></div>
<pre><code>## Error in x + y: non-numeric argument to binary operator</code></pre>
<p>Classes can be converted:</p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="va">x</span><span class="op">+</span><span class="va">y</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div id="vectors" class="section level3" number="0.12.1">
<h3>
<span class="header-section-number">0.12.1</span> Vectors<a class="anchor" aria-label="anchor" href="#vectors"><i class="fas fa-link"></i></a>
</h3>
<p>Vectors are 1-dimensional objects that have a name, and can hold multiple elements of the same class. The number of elements in the vector is the vector length. Manipulating vectors involves creating them, and storing, retrieving, and changing elements inside of the vector.</p>
<div id="vector-creation" class="section level4" number="0.12.1.1">
<h4>
<span class="header-section-number">0.12.1.1</span> Vector Creation<a class="anchor" aria-label="anchor" href="#vector-creation"><i class="fas fa-link"></i></a>
</h4>
<p>There are multiple ways to create a vector</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># create a NULL vector</span>
<span class="va">a</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="co"># assign a sequence to a name</span>
<span class="va">a</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span> <span class="co"># assign a vector made with combine c()</span>
<span class="va">a</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#pre-assign an empty vector</span>
<span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"numeric"</span>, length<span class="op">=</span><span class="fl">10</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##  [1] 0 0 0 0 0 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"integer"</span>, length<span class="op">=</span><span class="fl">10</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##  [1] 0 0 0 0 0 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"logical"</span>, length<span class="op">=</span><span class="fl">10</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"character"</span>, length<span class="op">=</span><span class="fl">10</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##  [1] "" "" "" "" "" "" "" "" "" ""</code></pre>
<p><code><a href="https://rdrr.io/r/base/length.html">length()</a></code> returns the number of elements in the vector</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span></code></pre></div>
<pre><code>## Warning in a &lt; c(1, 4, 5): longer object length is not a multiple of shorter
## object length</code></pre>
<pre><code>##  [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
</div>
<div id="vector-combination" class="section level4" number="0.12.1.2">
<h4>
<span class="header-section-number">0.12.1.2</span> Vector Combination<a class="anchor" aria-label="anchor" href="#vector-combination"><i class="fas fa-link"></i></a>
</h4>
<p>It is possible to combine existing vectors together to make a new vector using <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>.</p>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">6</span><span class="op">:</span><span class="fl">10</span>

<span class="va">x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span></code></pre></div>
<pre><code>## [1]  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span>
<span class="va">z</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>However, if you attempt to combine vectors of different classes, R will throw an error, or it will coerce (convert) one of the vectors into the class of the other.</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>,<span class="st">"d"</span>,<span class="st">"e"</span><span class="op">)</span>

<span class="va">x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span></code></pre></div>
<pre><code>## [1] "a" "b" "c" "d" "e"</code></pre>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span>
<span class="va">z</span></code></pre></div>
<pre><code>##  [1] "1" "2" "3" "4" "5" "a" "b" "c" "d" "e"</code></pre>
</div>
<div id="vector-indexing" class="section level4" number="0.12.1.3">
<h4>
<span class="header-section-number">0.12.1.3</span> Vector Indexing<a class="anchor" aria-label="anchor" href="#vector-indexing"><i class="fas fa-link"></i></a>
</h4>
<p>Vector indexing is the the process of isolating specific positions or elements of a vector. Vector indexing uses the <code>[]</code> notation.</p>
<p>The general syntax is <code>vector_name[positions]</code>, where <code>vector_name</code> is the name of your vector, and <code>positions</code> is a vector of positions to index.</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">23</span>,<span class="fl">34</span>,<span class="fl">45</span>,<span class="fl">56</span>,<span class="fl">67</span>,<span class="fl">78</span>,<span class="fl">89</span><span class="op">)</span>

<span class="va">a</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="co"># returns the element in position 1</span></code></pre></div>
<pre><code>## [1] 23</code></pre>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="co"># returns elements in positions 1 to 3</span></code></pre></div>
<pre><code>## [1] 23 34 45</code></pre>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 56 67 78</code></pre>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 23 23 23</code></pre>
<p>Logical vectors can indicate positions. In this case, elements in TRUE positions will be returned</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">45</span>,<span class="fl">56</span>,<span class="fl">78</span><span class="op">)</span>

<span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 45</code></pre>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 56</code></pre>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 78</code></pre>
</div>
<div id="vector-indexing-and-assignment" class="section level4" number="0.12.1.4">
<h4>
<span class="header-section-number">0.12.1.4</span> Vector indexing and assignment<a class="anchor" aria-label="anchor" href="#vector-indexing-and-assignment"><i class="fas fa-link"></i></a>
</h4>
<p>Vector indexing can also be used to assign new elements to the indexed positions.</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">45</span>,<span class="fl">56</span>,<span class="fl">78</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>## [1] 45 56 78</code></pre>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">a</span></code></pre></div>
<pre><code>## [1]  45  56 100</code></pre>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Hello"</span>
<span class="va">a</span></code></pre></div>
<pre><code>## [1] "Hello" "Hello" "Hello"</code></pre>
</div>
<div id="logical-indexing" class="section level4" number="0.12.1.5">
<h4>
<span class="header-section-number">0.12.1.5</span> Logical indexing<a class="anchor" aria-label="anchor" href="#logical-indexing"><i class="fas fa-link"></i></a>
</h4>
<p>Vectors can be indexing using logical comparisons (see section on logic for further explanation and examples of logical comparisons).</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>

<span class="va">a</span> <span class="op">==</span> <span class="fl">4</span> <span class="co"># create logical vector of positions containing 4</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># inserting the above into a[] finds the elements equal to 4</span>
<span class="va">a</span><span class="op">[</span><span class="va">a</span> <span class="op">==</span> <span class="fl">4</span><span class="op">]</span> <span class="co"># elements equal to 4</span></code></pre></div>
<pre><code>## [1] 4 4</code></pre>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="va">a</span> <span class="op">&lt;</span> <span class="fl">4</span><span class="op">]</span> <span class="co"># elements less than 4</span></code></pre></div>
<pre><code>## [1] 1 3 2 3</code></pre>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="va">a</span> <span class="op">&lt;=</span> <span class="fl">4</span><span class="op">]</span> <span class="co"># elements less than or equal to 4</span></code></pre></div>
<pre><code>## [1] 1 3 2 4 3 4</code></pre>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="va">a</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">]</span> <span class="co"># elements not equal to 1</span></code></pre></div>
<pre><code>## [1] 3 2 4 3 4</code></pre>
</div>
</div>
<div id="data.frame" class="section level3" number="0.12.2">
<h3>
<span class="header-section-number">0.12.2</span> Data.frame<a class="anchor" aria-label="anchor" href="#data.frame"><i class="fas fa-link"></i></a>
</h3>
<p>Data.frames are 2-d storage objects, like a table (or excel sheet), they have columns and rows.</p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># make an empty data.frame</span>
<span class="va">a</span></code></pre></div>
<pre><code>## data frame with 0 columns and 0 rows</code></pre>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "data.frame"</code></pre>
<div id="data.frame-creation" class="section level4" number="0.12.2.1">
<h4>
<span class="header-section-number">0.12.2.1</span> Data.frame creation<a class="anchor" aria-label="anchor" href="#data.frame-creation"><i class="fas fa-link"></i></a>
</h4>
<p>A common method to create a data.frame involves adding existing vectors together. Data.frames are often also created when loading in data files that are 2-d tables. See also the section on using <code>dplyr</code> to manipulate data in dataframes. Data.frames are also similar to data.tables, and tibbles, and can usually be interchanged.</p>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span><span class="op">)</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>,<span class="cn">TRUE</span><span class="op">)</span>

<span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,<span class="va">z</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##   x y    z
## 1 1 a TRUE
## 2 2 b TRUE
## 3 3 c TRUE</code></pre>
<p><code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> returns the number of rows and columns in the data.frame</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3 3</code></pre>
</div>
<div id="indexing-by-column-name" class="section level4" number="0.12.2.2">
<h4>
<span class="header-section-number">0.12.2.2</span> Indexing by column name<a class="anchor" aria-label="anchor" href="#indexing-by-column-name"><i class="fas fa-link"></i></a>
</h4>
<p>Each column in a data.frame has a name, and can be accessed using the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> syntax:</p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "x" "y" "z"</code></pre>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">$</span><span class="va">x</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">$</span><span class="va">y</span></code></pre></div>
<pre><code>## [1] "a" "b" "c"</code></pre>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">$</span><span class="va">z</span></code></pre></div>
<pre><code>## [1] TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#re-name by assigning a new vector </span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"new_x"</span>,<span class="st">"Why"</span>,<span class="st">"Zee"</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##   new_x Why  Zee
## 1     1   a TRUE
## 2     2   b TRUE
## 3     3   c TRUE</code></pre>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">$</span><span class="va">new_x</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">$</span><span class="va">Why</span></code></pre></div>
<pre><code>## [1] "a" "b" "c"</code></pre>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">$</span><span class="va">Zee</span></code></pre></div>
<pre><code>## [1] TRUE TRUE TRUE</code></pre>
</div>
<div id="indexing-with-rowscolumns" class="section level4" number="0.12.2.3">
<h4>
<span class="header-section-number">0.12.2.3</span> Indexing with <code>[rows,columns]</code><a class="anchor" aria-label="anchor" href="#indexing-with-rowscolumns"><i class="fas fa-link"></i></a>
</h4>
<p>Data.frames have rows and columns, and can be indexed using <code>[rows,columns]</code> notation, where <code>rows</code> is a vector of row numbers, and <code>columns</code> is a vector of column numbers</p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span></code></pre></div>
<pre><code>##   new_x Why  Zee
## 1     1   a TRUE
## 2     2   b TRUE
## 3     3   c TRUE</code></pre>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span> <span class="co"># row 1</span></code></pre></div>
<pre><code>##   new_x Why  Zee
## 1     1   a TRUE</code></pre>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="co"># column 1</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">]</span> <span class="co"># rows 1 to 2</span></code></pre></div>
<pre><code>##   new_x Why  Zee
## 1     1   a TRUE
## 2     2   b TRUE</code></pre>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co"># columns 1 to 2</span></code></pre></div>
<pre><code>##   new_x Why
## 1     1   a
## 2     2   b
## 3     3   c</code></pre>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co">#rows 1 to 2 and columns 1 to 2</span></code></pre></div>
<pre><code>##   new_x Why
## 1     1   a
## 2     2   b</code></pre>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="st">'new_x'</span><span class="op">]</span> <span class="co"># Column names can be used</span></code></pre></div>
<pre><code>## [1] 1 2</code></pre>
</div>
<div id="row-and-column-binding" class="section level4" number="0.12.2.4">
<h4>
<span class="header-section-number">0.12.2.4</span> row and column binding<a class="anchor" aria-label="anchor" href="#row-and-column-binding"><i class="fas fa-link"></i></a>
</h4>
<p>It is possible to add more rows using <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code>, and add more columns using <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code>.</p>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># row bind a copy of a to itself</span>
<span class="va">a</span></code></pre></div>
<pre><code>##   new_x Why  Zee
## 1     1   a TRUE
## 2     2   b TRUE
## 3     3   c TRUE</code></pre>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">a</span>,<span class="va">a</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 6 3</code></pre>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create a new vector, add it as a new column</span>
<span class="va">my_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>
<span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">a</span>,<span class="va">my_new</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##   new_x Why  Zee my_new
## 1     1   a TRUE      1
## 2     2   b TRUE      4
## 3     3   c TRUE      3
## 4     1   a TRUE      2
## 5     2   b TRUE      4
## 6     3   c TRUE      5</code></pre>
</div>
<div id="indexing-and-assignment" class="section level4" number="0.12.2.5">
<h4>
<span class="header-section-number">0.12.2.5</span> Indexing and assignment<a class="anchor" aria-label="anchor" href="#indexing-and-assignment"><i class="fas fa-link"></i></a>
</h4>
<p>The elements in a data.frame can be re-assigned by <code>your_dataframe[row:position] &lt;- new stuff</code>. It is generally necessary that any new elements have the same class as the original elements</p>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span></code></pre></div>
<pre><code>##   new_x Why  Zee my_new
## 1     1   a TRUE      1
## 2     2   b TRUE      4
## 3     3   c TRUE      3
## 4     1   a TRUE      2
## 5     2   b TRUE      4
## 6     3   c TRUE      5</code></pre>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">5</span> <span class="co">#assign column 1 all 5s</span>

<span class="va">a</span><span class="op">$</span><span class="va">Why</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"new"</span>,<span class="st">"words"</span>,<span class="st">"are"</span>,<span class="st">"going"</span>,<span class="st">"in"</span>,<span class="st">"here"</span><span class="op">)</span>
<span class="va">a</span></code></pre></div>
<pre><code>##   new_x   Why  Zee my_new
## 1     5   new TRUE      1
## 2     5 words TRUE      4
## 3     5   are TRUE      3
## 4     5 going TRUE      2
## 5     5    in TRUE      4
## 6     5  here TRUE      5</code></pre>
<div class="sourceCode" id="cb195"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="fl">6</span>,<span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span> <span class="co"># row 6, column 3</span>
<span class="va">a</span></code></pre></div>
<pre><code>##   new_x   Why   Zee my_new
## 1     5   new  TRUE      1
## 2     5 words  TRUE      4
## 3     5   are  TRUE      3
## 4     5 going  TRUE      2
## 5     5    in  TRUE      4
## 6     5  here FALSE      5</code></pre>
</div>
<div id="logical-indexing-1" class="section level4" number="0.12.2.6">
<h4>
<span class="header-section-number">0.12.2.6</span> Logical indexing<a class="anchor" aria-label="anchor" href="#logical-indexing-1"><i class="fas fa-link"></i></a>
</h4>
<p>It is also possible to index a data.frame with logical comparisons. For example, the following returns rows where the value in column <code>my_new</code> equals a 4</p>
<div class="sourceCode" id="cb197"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">[</span><span class="va">a</span><span class="op">$</span><span class="va">my_new</span> <span class="op">==</span> <span class="fl">4</span>,<span class="op">]</span></code></pre></div>
<pre><code>##   new_x   Why  Zee my_new
## 2     5 words TRUE      4
## 5     5    in TRUE      4</code></pre>
</div>
</div>
<div id="lists" class="section level3" number="0.12.3">
<h3>
<span class="header-section-number">0.12.3</span> Lists<a class="anchor" aria-label="anchor" href="#lists"><i class="fas fa-link"></i></a>
</h3>
<p>Lists are objects that can store more arbitrary elements of any class, including vectors, dataframes, and even more lists. Lists are commonly used to store results from a model, especially when the model returns many different kinds of results in different formats.</p>
<p>Here we create a list with three elements, a scalar, a vector, and a dataframe.</p>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>a<span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, b<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, c<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
<span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span>

<span class="va">my_list</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 1 2 3 4 5
## 
## [[3]]
##   a b c
## 1 1 1 1
## 2 2 2 2
## 3 3 3 3
## 4 4 4 4
## 5 5 5 5</code></pre>
<div id="list-indexing" class="section level4" number="0.12.3.1">
<h4>
<span class="header-section-number">0.12.3.1</span> List indexing<a class="anchor" aria-label="anchor" href="#list-indexing"><i class="fas fa-link"></i></a>
</h4>
<p>Access elements in the list using <code>[[]]</code></p>
<div class="sourceCode" id="cb201"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>##   a b c
## 1 1 1 1
## 2 2 2 2
## 3 3 3 3
## 4 4 4 4
## 5 5 5 5</code></pre>
</div>
<div id="named-elements" class="section level4" number="0.12.3.2">
<h4>
<span class="header-section-number">0.12.3.2</span> Named elements<a class="anchor" aria-label="anchor" href="#named-elements"><i class="fas fa-link"></i></a>
</h4>
<p>Elements in a list can be given names, and indexed by name:</p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>a<span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, b<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, c<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
<span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>ex <span class="op">=</span> <span class="va">x</span>, why <span class="op">=</span> <span class="va">y</span>,zee<span class="op">=</span>  <span class="va">z</span><span class="op">)</span>

<span class="va">my_list</span></code></pre></div>
<pre><code>## $ex
## [1] 1
## 
## $why
## [1] 1 2 3 4 5
## 
## $zee
##   a b c
## 1 1 1 1
## 2 2 2 2
## 3 3 3 3
## 4 4 4 4
## 5 5 5 5</code></pre>
<div class="sourceCode" id="cb209"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">$</span><span class="va">ex</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb211"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">$</span><span class="va">why</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb213"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">$</span><span class="va">zee</span></code></pre></div>
<pre><code>##   a b c
## 1 1 1 1
## 2 2 2 2
## 3 3 3 3
## 4 4 4 4
## 5 5 5 5</code></pre>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="st">"ex"</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb217"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="st">"why"</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb219"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="st">"zee"</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>##   a b c
## 1 1 1 1
## 2 2 2 2
## 3 3 3 3
## 4 4 4 4
## 5 5 5 5</code></pre>
</div>
<div id="addremove-elements-in-lists" class="section level4" number="0.12.3.3">
<h4>
<span class="header-section-number">0.12.3.3</span> Add/Remove elements in lists<a class="anchor" aria-label="anchor" href="#addremove-elements-in-lists"><i class="fas fa-link"></i></a>
</h4>
<p>It is possible to assign new names elements to a list, e.g.:</p>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="st">"new_thing"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">12345</span>

<span class="va">my_list</span></code></pre></div>
<pre><code>## $ex
## [1] 1
## 
## $why
## [1] 1 2 3 4 5
## 
## $zee
##   a b c
## 1 1 1 1
## 2 2 2 2
## 3 3 3 3
## 4 4 4 4
## 5 5 5 5
## 
## $new_thing
## [1] 12345</code></pre>
<div class="sourceCode" id="cb223"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#set an element to NULL removes it</span>
<span class="va">my_list</span><span class="op">[[</span><span class="st">"zee"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>

<span class="va">my_list</span></code></pre></div>
<pre><code>## $ex
## [1] 1
## 
## $why
## [1] 1 2 3 4 5
## 
## $new_thing
## [1] 12345</code></pre>
</div>
</div>
</div>
<div id="logic" class="section level2" number="0.13">
<h2>
<span class="header-section-number">0.13</span> Logic<a class="anchor" aria-label="anchor" href="#logic"><i class="fas fa-link"></i></a>
</h2>
<p>Logic statements are used to compare two things, or two sets of things. The output of comparison is a TRUE or FALSE statment. If many things are being compared at once, the output could be many TRUE or FALSE statements for each comparison</p>
<div id="equal-to" class="section level3" number="0.13.1">
<h3>
<span class="header-section-number">0.13.1</span> equal to ==<a class="anchor" aria-label="anchor" href="#equal-to"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb225"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">==</span><span class="fl">1</span> <span class="co"># is 1 equal to 1?</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb227"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">==</span><span class="fl">2</span> <span class="co"># is 1 equal to 2?</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb229"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># compares each element with each element</span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb231"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
</div>
<div id="not-equal-to" class="section level3" number="0.13.2">
<h3>
<span class="header-section-number">0.13.2</span> not equal to !=<a class="anchor" aria-label="anchor" href="#not-equal-to"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb233"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">!=</span><span class="fl">1</span> <span class="co"># is 1 equal to 1?</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb235"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">!=</span><span class="fl">2</span> <span class="co"># is 1 equal to 2?</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb237"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># compares each element with each element</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
</div>
<div id="greater-than-less-than" class="section level3" number="0.13.3">
<h3>
<span class="header-section-number">0.13.3</span> Greater than/ less than<a class="anchor" aria-label="anchor" href="#greater-than-less-than"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="co"># is 1 greater than 1?</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">5</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="co"># is 5 greater than 1?</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">3</span> <span class="op">&lt;</span> <span class="fl">2</span> <span class="co"># is 3 less than 2?</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">3</span> <span class="op">&lt;</span> <span class="fl">1</span> <span class="co"># is 3 less than 1?</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># ask the question element by element</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">2</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># is greater than each of the numbers</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
</div>
<div id="section" class="section level3" number="0.13.4">
<h3>
<span class="header-section-number">0.13.4</span> &gt;= &lt;=<a class="anchor" aria-label="anchor" href="#section"><i class="fas fa-link"></i></a>
</h3>
<p>Is something greater than or equal to something else</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">&gt;=</span> <span class="fl">1</span> <span class="co"># is 1 greater than 1?</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">5</span> <span class="op">&gt;=</span> <span class="fl">1</span> <span class="co"># is 5 greater than 1?</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">3</span> <span class="op">&lt;=</span> <span class="fl">2</span> <span class="co"># is 3 less than 2?</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">3</span> <span class="op">&lt;=</span> <span class="fl">1</span> <span class="co"># is 3 less than 1?</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># ask the question element by element</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">2</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># is greater than each of the numbers</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
</div>
<div id="and" class="section level3" number="0.13.5">
<h3>
<span class="header-section-number">0.13.5</span> AND<a class="anchor" aria-label="anchor" href="#and"><i class="fas fa-link"></i></a>
</h3>
<p>The ampersand <code><a href="https://rdrr.io/r/base/Logic.html">&amp;</a></code> is used for AND, which allows use to evaluate whether two or more properties are all TRUE.</p>
<div class="sourceCode" id="cb269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># is 16 divisible by 4 AND 8</span>
<span class="fl">16</span><span class="op">%%</span><span class="fl">4</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fl">16</span><span class="op">%%</span><span class="fl">8</span> <span class="op">==</span><span class="fl">0</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># is 16 divisible by 4 AND 3</span>
<span class="fl">16</span><span class="op">%%</span><span class="fl">4</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fl">16</span><span class="op">%%</span><span class="fl">3</span> <span class="op">==</span><span class="fl">0</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># is 16 divisible by 8 and 4 and 2</span>
<span class="fl">16</span><span class="op">%%</span><span class="fl">4</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fl">16</span><span class="op">%%</span><span class="fl">8</span> <span class="op">==</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="fl">16</span><span class="op">%%</span><span class="fl">2</span> <span class="op">==</span><span class="fl">0</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="or" class="section level3" number="0.13.6">
<h3>
<span class="header-section-number">0.13.6</span> OR<a class="anchor" aria-label="anchor" href="#or"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/base/Logic.html">|</a></code> is used for OR, which allows use to evaluate at least one of the properties is TRUE.</p>
<div class="sourceCode" id="cb275"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># is 16 divisible by 4 OR 8</span>
<span class="fl">16</span><span class="op">%%</span><span class="fl">4</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">16</span><span class="op">%%</span><span class="fl">8</span> <span class="op">==</span><span class="fl">0</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb277"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># is 16 divisible by 4 OR 3</span>
<span class="co"># it is divisible by 4, so the answer is TRUE</span>
<span class="co"># because at least one of the comparisons is TRUE</span>
<span class="fl">16</span><span class="op">%%</span><span class="fl">4</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">16</span><span class="op">%%</span><span class="fl">3</span> <span class="op">==</span><span class="fl">0</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="true-false" class="section level3" number="0.13.7">
<h3>
<span class="header-section-number">0.13.7</span> TRUE FALSE<a class="anchor" aria-label="anchor" href="#true-false"><i class="fas fa-link"></i></a>
</h3>
<p>When R returns values as TRUE or FALSE, it return a logical variable. It also treats TRUE as a 1, and FALSE as a 0. In the example below we see it is possible sum up a logical variable with multiple TRUE and FALSE entries.</p>
<div class="sourceCode" id="cb279"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb281"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb283"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
</div>
<div id="if-else" class="section level2" number="0.14">
<h2>
<span class="header-section-number">0.14</span> IF ELSE<a class="anchor" aria-label="anchor" href="#if-else"><i class="fas fa-link"></i></a>
</h2>
<p>A roller-coaster operator checks if people are taller than a line to see if they can ride the coaster. This is an IF ELSE control structure. IF the person is taller than the line, then they can go on the ride; ELSE (otherwise) the person can not go on the ride.</p>
<p>In other words, IF the situation is X, then do something; ELSE (if the situation is not X), then do something different.</p>
<p>IF and ELSE statements let us specify the conditions when specific actions are taken. Generally, IF and ELSE statements are used inside loops (for, or while, or repeat loops), because at each step or iteration of the loop, we want to check something, and then do something.</p>
<p>Consider this:</p>
<div class="sourceCode" id="cb287"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="co"># define a to be a 1</span>
<span class="kw">if</span><span class="op">(</span><span class="va">a</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span><span class="op">{</span>  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="co"># this is what happens if a==1</span>
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"A is not 1"</span><span class="op">)</span> <span class="co"># this is what happens if a is not 1</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb289"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="co"># define a to be a 1</span>
<span class="kw">if</span><span class="op">(</span><span class="va">a</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span><span class="op">{</span>  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="co"># this is what happens if a==1</span>
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"A is not 1"</span><span class="op">)</span> <span class="co"># this is what happens if a is not 1</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "A is not 1"</code></pre>
<p>Normally we find IF and ELSE in a loop like this:</p>
<div class="sourceCode" id="cb291"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span> <span class="co"># make a variable contain 1s and 0s</span>

<span class="co"># write a loop to check each element in the variable</span>
<span class="co"># and do different things depending on the element</span>

<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">a</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">i</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"I'm a 1"</span><span class="op">)</span> <span class="co"># what to do when i is 1</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"I'm not a 1"</span><span class="op">)</span> <span class="co"># what to do when i is not 1</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "I'm a 1"
## [1] "I'm not a 1"
## [1] "I'm a 1"
## [1] "I'm not a 1"
## [1] "I'm not a 1"
## [1] "I'm not a 1"
## [1] "I'm a 1"</code></pre>
<p>We can have multiple conditions in our if statements. See the next section on loops for more info about using loops.</p>
<div class="sourceCode" id="cb293"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span> <span class="co"># make a variable contain 1s and 0s</span>

<span class="co"># write a loop to check each element in the variable</span>
<span class="co"># and do different things depending on the element</span>

<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">a</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">i</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"I'm a 1"</span><span class="op">)</span> <span class="co"># what to do when i is 1</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">i</span><span class="op">==</span><span class="fl">2</span><span class="op">)</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"I'm a 2"</span><span class="op">)</span> <span class="co"># what to do when i is 2</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">i</span><span class="op">==</span><span class="fl">3</span><span class="op">)</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"I'm a 3"</span><span class="op">)</span> <span class="co"># what to do when i is 3</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"I'm not any of the above"</span><span class="op">)</span> <span class="co">#what to do when none are true</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "I'm a 1"
## [1] "I'm a 2"
## [1] "I'm a 3"
## [1] "I'm a 1"
## [1] "I'm a 2"
## [1] "I'm not any of the above"
## [1] "I'm a 1"</code></pre>
</div>
<div id="loops" class="section level2" number="0.15">
<h2>
<span class="header-section-number">0.15</span> Loops<a class="anchor" aria-label="anchor" href="#loops"><i class="fas fa-link"></i></a>
</h2>
<p>Check R help for on Control Flow <code><a href="https://rdrr.io/r/base/Control.html">?Control</a></code>.</p>
<p><code>for(){}</code>
<code>for(loop control){do something each iteration}</code></p>
<div class="sourceCode" id="cb295"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">iterator</span> <span class="kw">in</span> <span class="va">vector</span><span class="op">)</span><span class="op">{</span>
  <span class="co">#do something</span>
<span class="op">}</span></code></pre></div>
<p>Loop control is defined in between the parentheses. The name of the iterator is placed on the left of <code>in</code>(can be assigned any name you want, does not need to be declared in advance). During the execution of the loop, the iterator takes on the values inside the vector which is placed on the right side of <code>in</code>. Specifically, the following is happening.</p>
<p>Loop steps:
1. iterator &lt;- vector[1]
2. iterator &lt;- vector[2]
3. iterator &lt;- vector[3]
4. etc.</p>
<p>The loop will automatically stop once it reaches the last item in the vector. The loop can be stopped before that using the <code>break</code> command.</p>
<div class="sourceCode" id="cb296"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Make a loop do something 5 times</span>
<span class="co"># i is the iterator</span>
<span class="co"># 1:5 creates a vector with 5 numbers in it, 1, 2, 3, 4, 5</span>
<span class="co"># the loop will run 5 times, because there are five things to assign to i</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"hello"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "hello"
## [1] "hello"
## [1] "hello"
## [1] "hello"
## [1] "hello"</code></pre>
<div class="sourceCode" id="cb298"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># show the value of i each step of the loop</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<div class="sourceCode" id="cb300"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define the vector to loop over in advance</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">x</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<div class="sourceCode" id="cb302"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Reminder that i becomes the next value in the vector</span>
<span class="co"># your vector can have any order </span>
<span class="va">my_sequence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">my_sequence</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 5
## [1] 2
## [1] 3
## [1] 4</code></pre>
<div class="sourceCode" id="cb304"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># index vector does not need to be numbers</span>
<span class="va">my_things</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">my_things</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "A"
## [1] "B"
## [1] "C"
## [1] "D"</code></pre>
<div id="breaking-a-loop" class="section level3" number="0.15.1">
<h3>
<span class="header-section-number">0.15.1</span> Breaking a loop<a class="anchor" aria-label="anchor" href="#breaking-a-loop"><i class="fas fa-link"></i></a>
</h3>
<p><code>break</code> stops a loop. Used with logical statements to define the conditions necessary to cause the break.</p>
<div class="sourceCode" id="cb306"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">i</span> <span class="op">&lt;</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
  <span class="op">}</span> <span class="kw">else</span><span class="op">{</span>
    <span class="kw">break</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4</code></pre>
</div>
<div id="while-loops" class="section level3" number="0.15.2">
<h3>
<span class="header-section-number">0.15.2</span> While loops<a class="anchor" aria-label="anchor" href="#while-loops"><i class="fas fa-link"></i></a>
</h3>
<p>While loops run until a logical condition is met. Here there is no iterator, just a logic statement that needs to be met.</p>
<p>This one prints i while i is less than 6. As soon as i becomes “not less than 6”, then the loop stops. Critically, inside the loop, the value of i increases each iteration.</p>
<div class="sourceCode" id="cb308"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="co"># create an variable</span>
<span class="kw">while</span> <span class="op">(</span><span class="va">i</span> <span class="op">&lt;</span> <span class="fl">6</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
  <span class="va">i</span> <span class="op">=</span> <span class="va">i</span><span class="op">+</span><span class="fl">1</span> <span class="co">#add one eachs step of the loop</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
</div>
<div id="repeat-loops" class="section level3" number="0.15.3">
<h3>
<span class="header-section-number">0.15.3</span> Repeat loops<a class="anchor" aria-label="anchor" href="#repeat-loops"><i class="fas fa-link"></i></a>
</h3>
<p>Similar to while, but let’s do things until a condition is met.</p>
<div class="sourceCode" id="cb310"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">i</span><span class="op">&lt;-</span><span class="fl">0</span>
<span class="kw">repeat</span><span class="op">{</span>
  <span class="va">i</span><span class="op">&lt;-</span><span class="va">i</span><span class="op">+</span><span class="fl">1</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">i</span><span class="op">==</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
    <span class="kw">break</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
</div>
<div id="examples" class="section level3" number="0.15.4">
<h3>
<span class="header-section-number">0.15.4</span> Examples<a class="anchor" aria-label="anchor" href="#examples"><i class="fas fa-link"></i></a>
</h3>
<p>Braces are not needed on one line</p>
<div class="sourceCode" id="cb312"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>Using the value of the iterator to assign in values systematically to another variable.</p>
<div class="sourceCode" id="cb314"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># put 1 into the first five positions of x</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># create empty vector</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
  <span class="va">x</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span>  <span class="co"># assign 1 to the ith slot in x</span>
<span class="op">}</span>
<span class="va">x</span></code></pre></div>
<pre><code>## [1] 1 1 1 1 1</code></pre>
<div class="sourceCode" id="cb316"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># put the numbers 1-5 in the first 5 positions of x</span>
<span class="va">x</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
  <span class="va">x</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">i</span>
<span class="op">}</span>
<span class="va">x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>Make your own counter, when you need one</p>
<div class="sourceCode" id="cb318"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">7</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">odd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">counter</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">a</span><span class="op">)</span><span class="op">{</span>  <span class="co"># i will the values of a in each position</span>
  <span class="va">counter</span> <span class="op">&lt;-</span> <span class="va">counter</span><span class="op">+</span><span class="fl">1</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">i</span><span class="op">%%</span><span class="fl">2</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span>
    <span class="va">odd</span><span class="op">[</span><span class="va">counter</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"odd"</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">odd</span><span class="op">[</span><span class="va">counter</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"even"</span>
  <span class="op">}</span>
<span class="op">}</span>
<span class="va">odd</span></code></pre></div>
<pre><code>## [1] "odd"  "even" "odd"  "odd"  "odd"  "even" "even" "even"</code></pre>
<div class="sourceCode" id="cb320"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># An alternative strategy</span>

<span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">7</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">odd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># 1:length(a) creates a sequence from 1 to length</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>  
  <span class="kw">if</span><span class="op">(</span><span class="va">a</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">%%</span><span class="fl">2</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span>
    <span class="va">odd</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"odd"</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">odd</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"even"</span>
  <span class="op">}</span>
<span class="op">}</span>
<span class="va">odd</span></code></pre></div>
<pre><code>## [1] "odd"  "even" "odd"  "odd"  "odd"  "even" "even" "even"</code></pre>
<p>Nesting loops</p>
<div class="sourceCode" id="cb322"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
   <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">i</span>,<span class="va">j</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] 1 1
## [1] 1 2
## [1] 1 3
## [1] 1 4
## [1] 1 5
## [1] 2 1
## [1] 2 2
## [1] 2 3
## [1] 2 4
## [1] 2 5
## [1] 3 1
## [1] 3 2
## [1] 3 3
## [1] 3 4
## [1] 3 5
## [1] 4 1
## [1] 4 2
## [1] 4 3
## [1] 4 4
## [1] 4 5
## [1] 5 1
## [1] 5 2
## [1] 5 3
## [1] 5 4
## [1] 5 5</code></pre>
<div class="sourceCode" id="cb324"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># example of using nested loops to fill the contents</span>
<span class="co"># of a matrix</span>

<span class="va">my_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>,ncol<span class="op">=</span><span class="fl">5</span>,nrow<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
   <span class="va">my_matrix</span><span class="op">[</span><span class="va">i</span>,<span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">i</span><span class="op">*</span><span class="va">j</span>
  <span class="op">}</span>
<span class="op">}</span>
<span class="va">my_matrix</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    2    3    4    5
## [2,]    2    4    6    8   10
## [3,]    3    6    9   12   15
## [4,]    4    8   12   16   20
## [5,]    5   10   15   20   25</code></pre>
<p>break exits out of the immediate loop</p>
<div class="sourceCode" id="cb326"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># the inside loop stops when i+j is greater than 5</span>
<span class="co"># the outside loop keeps going</span>

<span class="va">sum_of_i_j</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">counter</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span>
    <span class="va">counter</span> <span class="op">&lt;-</span> <span class="va">counter</span><span class="op">+</span><span class="fl">1</span>
    <span class="va">sum_of_i_j</span><span class="op">[</span><span class="va">counter</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">i</span><span class="op">+</span><span class="va">j</span>
    <span class="kw">if</span><span class="op">(</span><span class="va">i</span><span class="op">+</span><span class="va">j</span> <span class="op">&gt;</span> <span class="fl">5</span><span class="op">)</span><span class="op">{</span>
      <span class="kw">break</span>
    <span class="op">}</span>
  <span class="op">}</span>
<span class="op">}</span>
<span class="va">sum_of_i_j</span></code></pre></div>
<pre><code>##  [1] 2 3 4 5 6 3 4 5 6 4 5 6 5 6 6</code></pre>
</div>
</div>
<div id="functions" class="section level2" number="0.16">
<h2>
<span class="header-section-number">0.16</span> Functions<a class="anchor" aria-label="anchor" href="#functions"><i class="fas fa-link"></i></a>
</h2>
<p>This section discusses the syntax for writing custom functions in R.</p>
<div id="function-syntax" class="section level3" number="0.16.1">
<h3>
<span class="header-section-number">0.16.1</span> function syntax<a class="anchor" aria-label="anchor" href="#function-syntax"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb328"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">function_name</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input1</span>,<span class="va">input2</span><span class="op">)</span><span class="op">{</span>
  <span class="co">#code here</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">something</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="example-functions" class="section level3" number="0.16.2">
<h3>
<span class="header-section-number">0.16.2</span> example functions<a class="anchor" aria-label="anchor" href="#example-functions"><i class="fas fa-link"></i></a>
</h3>
<p>This function has no input between the <code>()</code>. Whenever you run this function, it will simply return whatever is placed inside the <code>return</code> statement.</p>
<div class="sourceCode" id="cb329"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define the function</span>
<span class="va">print_hello_world</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"hello world"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># use the function</span>
<span class="fu">print_hello_world</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "hello world"</code></pre>
<p>This function simply takes an input, and then returns the input without modifying it.</p>
<div class="sourceCode" id="cb331"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">return_input</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span><span class="op">)</span><span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">input</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># the variable input is assigned a 1</span>
<span class="co"># then we return(input), which will result in a 1</span>
<span class="co"># because the function internally assigns 1 to the input</span>
<span class="fu">return_input</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb333"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="st">"something"</span>
<span class="fu">return_input</span><span class="op">(</span><span class="va">a</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "something"</code></pre>
<p>This function takes an input, then creates an internal variable called temp and assigns input+1. Then the contents of temp is returned. Note there, is no checking of the input, so it will return an erro if you input a character (can’t add one to a character in R)</p>
<div class="sourceCode" id="cb335"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_one</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span><span class="op">)</span><span class="op">{</span>
  <span class="va">temp</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">+</span><span class="fl">1</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">temp</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu">add_one</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb337"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">add_one</span><span class="op">(</span><span class="st">"a"</span><span class="op">)</span></code></pre></div>
<pre><code>## Error in input + 1: non-numeric argument to binary operator</code></pre>
<p>This function adds some input checking. We only add one if the input is a numeric type. Otheriwse, we use <code><a href="https://rdrr.io/r/base/stop.html">stop()</a></code> to return an error message to the console</p>
<div class="sourceCode" id="cb339"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_one</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">input</span><span class="op">)</span> <span class="op">==</span> <span class="st">"numeric"</span><span class="op">)</span><span class="op">{</span>
    <span class="va">temp</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">+</span><span class="fl">1</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">temp</span><span class="op">)</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"input must be numeric"</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span>
<span class="op">}</span>

<span class="fu">add_one</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb341"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">add_one</span><span class="op">(</span><span class="st">"a"</span><span class="op">)</span></code></pre></div>
<pre><code>## Error in add_one("a"): input must be numeric</code></pre>
<p>A function with three inputs</p>
<div class="sourceCode" id="cb343"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_multiply</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">x_plus</span>,<span class="va">x_times</span><span class="op">)</span><span class="op">{</span>
  <span class="va">temp</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">input</span><span class="op">+</span><span class="va">x_plus</span><span class="op">)</span><span class="op">*</span><span class="va">x_times</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">temp</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># input is 1</span>
<span class="co"># x_plus &lt;- 2</span>
<span class="co"># x_times &lt;- 3</span>
<span class="co"># will return (1+2)*3 = 9</span>
<span class="fu">add_multiply</span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
</div>
</div>
<div id="tidyverse" class="section level2" number="0.17">
<h2>
<span class="header-section-number">0.17</span> Tidyverse<a class="anchor" aria-label="anchor" href="#tidyverse"><i class="fas fa-link"></i></a>
</h2>
<p>The <a href="https://www.tidyverse.org">tidyverse</a> is a set of popular R packages that are convenient for many aspects of data-analysis. All of the tidyverse packages can be installed in one go:</p>
<div class="sourceCode" id="cb345"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></code></pre></div>
<hr>
</div>
<div id="dplyr" class="section level2" number="0.18">
<h2>
<span class="header-section-number">0.18</span> dplyr<a class="anchor" aria-label="anchor" href="#dplyr"><i class="fas fa-link"></i></a>
</h2>
<p>The <code>dplyr</code> package has several useful functions for manipulating and summarizing data.frames. To illustrate some dplyr functionality we first create a small fake data.frame. Here is a link to the <a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">dplyr cheatsheet</a></p>
<div class="sourceCode" id="cb346"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">subjects</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>
<span class="va">grades</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">65</span>, sd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">18</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">10</span>,replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">likes_chocolate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">favorite_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"r"</span>,<span class="st">"o"</span>,<span class="st">"y"</span>,<span class="st">"g"</span>,<span class="st">"b"</span>,<span class="st">"i"</span>,<span class="st">"v"</span><span class="op">)</span>, <span class="fl">10</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>

<span class="va">fake_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">subjects</span>,
                        <span class="va">grades</span>,
                        <span class="va">age</span>,
                        <span class="va">likes_chocolate</span>,
                        <span class="va">favorite_color</span><span class="op">)</span>

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">fake_data</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="right">subjects</th>
<th align="right">grades</th>
<th align="right">age</th>
<th align="left">likes_chocolate</th>
<th align="left">favorite_color</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">55.84970</td>
<td align="right">18</td>
<td align="left">TRUE</td>
<td align="left">b</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">72.72373</td>
<td align="right">18</td>
<td align="left">TRUE</td>
<td align="left">g</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">62.56238</td>
<td align="right">19</td>
<td align="left">TRUE</td>
<td align="left">y</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">65.28392</td>
<td align="right">18</td>
<td align="left">TRUE</td>
<td align="left">v</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">68.83558</td>
<td align="right">19</td>
<td align="left">FALSE</td>
<td align="left">o</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">51.93467</td>
<td align="right">20</td>
<td align="left">TRUE</td>
<td align="left">o</td>
</tr>
</tbody>
</table></div>
<div id="group_by-and-summarize" class="section level3" number="0.18.1">
<h3>
<span class="header-section-number">0.18.1</span> group_by and summarize<a class="anchor" aria-label="anchor" href="#group_by-and-summarize"><i class="fas fa-link"></i></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> allows you to specify columns to split into groups for analysis, these groups are the levels of the column (e.g., unique entries in the column)</p>
<p><code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> conducts an analysis for each group identified in the <code>group_by</code> step. The analysis is defined by variable names, and supplying a function that computes a value given the name of a measurement variable.</p>
<div class="sourceCode" id="cb347"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></code></pre></div>
<pre><code>## 
## Attaching package: 'dplyr'</code></pre>
<pre><code>## The following objects are masked from 'package:stats':
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb351"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fake_data</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">likes_chocolate</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_grade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">grades</span><span class="op">)</span>,
            sd_grad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">grades</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 2 x 3
##   likes_chocolate mean_grade sd_grad
##   &lt;lgl&gt;                &lt;dbl&gt;   &lt;dbl&gt;
## 1 FALSE                 62.7    8.69
## 2 TRUE                  62.6    6.78</code></pre>
<div class="sourceCode" id="cb354"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fake_data</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">likes_chocolate</span>,<span class="va">age</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean_grade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">grades</span><span class="op">)</span>,
            sd_grad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">grades</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by 'likes_chocolate' (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 4 x 4
## # Groups:   likes_chocolate [2]
##   likes_chocolate   age mean_grade  sd_grad
##   &lt;lgl&gt;           &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1 FALSE              19       62.7 8.69    
## 2 TRUE               18       64.6 8.46    
## 3 TRUE               19       62.6 0.000358
## 4 TRUE               20       60.7 8.84</code></pre>
</div>
<div id="filter" class="section level3" number="0.18.2">
<h3>
<span class="header-section-number">0.18.2</span> filter<a class="anchor" aria-label="anchor" href="#filter"><i class="fas fa-link"></i></a>
</h3>
<p>Filter out rows depending on logical comparisons</p>
<div class="sourceCode" id="cb357"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fake_data</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">grades</span> <span class="op">&lt;</span> <span class="fl">65</span><span class="op">)</span></code></pre></div>
<pre><code>##   subjects   grades age likes_chocolate favorite_color
## 1        1 55.84970  18            TRUE              b
## 2        3 62.56238  19            TRUE              y
## 3        6 51.93467  20            TRUE              o
## 4        7 56.55077  19           FALSE              r
## 5        8 60.60156  20            TRUE              v
## 6        9 62.56289  19            TRUE              v</code></pre>
<div class="sourceCode" id="cb359"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fake_data</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">grades</span> <span class="op">&lt;</span> <span class="fl">65</span>,
         <span class="va">likes_chocolate</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##   subjects   grades age likes_chocolate favorite_color
## 1        1 55.84970  18            TRUE              b
## 2        3 62.56238  19            TRUE              y
## 3        6 51.93467  20            TRUE              o
## 4        8 60.60156  20            TRUE              v
## 5        9 62.56289  19            TRUE              v</code></pre>
</div>
<div id="select" class="section level3" number="0.18.3">
<h3>
<span class="header-section-number">0.18.3</span> select<a class="anchor" aria-label="anchor" href="#select"><i class="fas fa-link"></i></a>
</h3>
<p>Select specific columns</p>
<div class="sourceCode" id="cb361"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fake_data</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">grades</span><span class="op">)</span></code></pre></div>
<pre><code>##      grades
## 1  55.84970
## 2  72.72373
## 3  62.56238
## 4  65.28392
## 5  68.83558
## 6  51.93467
## 7  56.55077
## 8  60.60156
## 9  62.56289
## 10 69.61198</code></pre>
<div class="sourceCode" id="cb363"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fake_data</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">grades</span>,<span class="va">likes_chocolate</span><span class="op">)</span></code></pre></div>
<pre><code>##      grades likes_chocolate
## 1  55.84970            TRUE
## 2  72.72373            TRUE
## 3  62.56238            TRUE
## 4  65.28392            TRUE
## 5  68.83558           FALSE
## 6  51.93467            TRUE
## 7  56.55077           FALSE
## 8  60.60156            TRUE
## 9  62.56289            TRUE
## 10 69.61198            TRUE</code></pre>
</div>
<div id="mutate" class="section level3" number="0.18.4">
<h3>
<span class="header-section-number">0.18.4</span> mutate<a class="anchor" aria-label="anchor" href="#mutate"><i class="fas fa-link"></i></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> can add a column</p>
<div class="sourceCode" id="cb365"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fake_data</span> <span class="op">&lt;-</span> <span class="va">fake_data</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>new_thing <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>

<span class="va">fake_data</span></code></pre></div>
<pre><code>##    subjects   grades age likes_chocolate favorite_color new_thing
## 1         1 55.84970  18            TRUE              b         0
## 2         2 72.72373  18            TRUE              g         0
## 3         3 62.56238  19            TRUE              y         0
## 4         4 65.28392  18            TRUE              v         0
## 5         5 68.83558  19           FALSE              o         0
## 6         6 51.93467  20            TRUE              o         0
## 7         7 56.55077  19           FALSE              r         0
## 8         8 60.60156  20            TRUE              v         0
## 9         9 62.56289  19            TRUE              v         0
## 10       10 69.61198  20            TRUE              y         0</code></pre>
</div>
</div>
<div id="ggplot2" class="section level2" number="0.19">
<h2>
<span class="header-section-number">0.19</span> ggplot2<a class="anchor" aria-label="anchor" href="#ggplot2"><i class="fas fa-link"></i></a>
</h2>
<p><code>ggplot2</code> is a library created by Hadley Wickham for plotting and graphing results, and refers to a “grammar of graphics”, or a standardized syntax and organization for graphing.</p>
<div id="ggplot2-additional-resources" class="section level3" number="0.19.1">
<h3>
<span class="header-section-number">0.19.1</span> ggplot2 additional resources<a class="anchor" aria-label="anchor" href="#ggplot2-additional-resources"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><a href="https://ggplot2.tidyverse.org" class="uri">https://ggplot2.tidyverse.org</a></li>
<li><a href="https://r4ds.had.co.nz/data-visualisation.html" class="uri">https://r4ds.had.co.nz/data-visualisation.html</a></li>
<li><a href="https://ggplot2-book.org" class="uri">https://ggplot2-book.org</a></li>
<li><a href="http://r-statistics.co/ggplot2-Tutorial-With-R.html" class="uri">http://r-statistics.co/ggplot2-Tutorial-With-R.html</a></li>
<li><a href="https://datacarpentry.org/R-ecology-lesson/04-visualization-ggplot2.html" class="uri">https://datacarpentry.org/R-ecology-lesson/04-visualization-ggplot2.html</a></li>
</ul>
<div id="add-on-packages" class="section level4" number="0.19.1.1">
<h4>
<span class="header-section-number">0.19.1.1</span> Add-on packages<a class="anchor" aria-label="anchor" href="#add-on-packages"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>
<a href="https://www.ggplot2-exts.org">https://www.ggplot2-exts.org</a> A repository of 50+ add on packages for ggplot2</li>
<li>
<a href="https://gganimate.com">https://gganimate.com</a>
<ul>
<li>allows you to create animated .gifs of ggplots</li>
<li>I made a bunch of animated gifs for a statistics textbook. They are all here along with the code <a href="https://crumplab.github.io/statistics/gifs.html">https://crumplab.github.io/statistics/gifs.html</a>
</li>
</ul>
</li>
<li>
<a href="https://github.com/slowkow/ggrepel%5D">ggrepel</a> allows you to repel overlapping text labels away from each other.</li>
<li>
<a href="https://github.com/dreamRs/esquisse">esquisse</a> a GUI (graphic user interface) that allows you make ggplot graphs using drag-drop, and clickable options</li>
<li>
<a href="https://github.com/metrumresearchgroup/ggedit">ggedit</a> similar to above, clickable editing of ggplot graphs</li>
<li>
<a href="https://plot.ly/r/">plotly</a> a package similar to ggplot, makes a whole variety of graphs, mainly for use in websites. Allows interactive graphs.
<ul>
<li>As an example, I used plotly on my publications website, if you hover over the dots, info pops up <a href="https://crumplab.github.io/Publications.html">https://crumplab.github.io/Publications.html</a>.</li>
</ul>
</li>
<li>
<strong>ggpubr</strong> (install from CRAN), many useful things, including the <code>ggarrange</code> function which allows you to knit multiple plots together</li>
<li>
<strong>ggthemes</strong> extra themes, scales, and geoms</li>
</ul>
</div>
</div>
<div id="example-code" class="section level3" number="0.19.2">
<h3>
<span class="header-section-number">0.19.2</span> Example code<a class="anchor" aria-label="anchor" href="#example-code"><i class="fas fa-link"></i></a>
</h3>
<p>Remember to load the ggplot2 library before you use ggplot2.</p>
<div class="sourceCode" id="cb367"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="scatterplot" class="section level3" number="0.19.3">
<h3>
<span class="header-section-number">0.19.3</span> Scatterplot<a class="anchor" aria-label="anchor" href="#scatterplot"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb368"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create dataframe</span>
<span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span>
<span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>
<span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">a</span>,<span class="va">b</span><span class="op">)</span>

<span class="co"># basic scatterplot</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">a</span>,y<span class="op">=</span><span class="va">b</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-63-1.png" width="672"></div>
<div class="sourceCode" id="cb369"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># customize, add regression line</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">a</span>,y<span class="op">=</span><span class="va">b</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method<span class="op">=</span><span class="va">lm</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">7</span><span class="op">)</span>,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"x-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"y-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"I made a scatterplot"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span>base_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula 'y ~ x'</code></pre>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-63-2.png" width="672"></div>
</div>
<div id="bar-graph" class="section level3" number="0.19.4">
<h3>
<span class="header-section-number">0.19.4</span> bar graph<a class="anchor" aria-label="anchor" href="#bar-graph"><i class="fas fa-link"></i></a>
</h3>
<p>1 factor</p>
<div class="sourceCode" id="cb371"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create a dataframe</span>
<span class="va">factor_one</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span><span class="op">)</span><span class="op">)</span>
<span class="va">dv_means</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">30</span>,<span class="fl">40</span><span class="op">)</span>
<span class="va">dv_SEs</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3.4</span>,<span class="fl">4</span><span class="op">)</span>
<span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">factor_one</span>,
                      <span class="va">dv_means</span>,
                      <span class="va">dv_SEs</span><span class="op">)</span>

<span class="co"># basic bar graph</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-64-1.png" width="672"></div>
<div class="sourceCode" id="cb372"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># adding error bars, customizing</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>ymin<span class="op">=</span><span class="va">dv_means</span><span class="op">-</span><span class="va">dv_SEs</span>,
                    ymax<span class="op">=</span><span class="va">dv_means</span><span class="op">+</span><span class="va">dv_SEs</span><span class="op">)</span>,
                width<span class="op">=</span><span class="fl">.2</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"x-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"y-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"I made a bar graph"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span>base_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-64-2.png" width="672"></div>
<p>2 factor</p>
<div class="sourceCode" id="cb373"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create a dataframe</span>
<span class="va">factor_one</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span><span class="op">)</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">factor_two</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"IIA"</span>,<span class="st">"IIB"</span><span class="op">)</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span>
<span class="va">dv_means</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">30</span>,<span class="fl">40</span>,<span class="fl">20</span>,<span class="fl">40</span>,<span class="fl">40</span><span class="op">)</span>
<span class="va">dv_SEs</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3.4</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span>
<span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">factor_one</span>,
                      <span class="va">factor_two</span>,
                      <span class="va">dv_means</span>,
                      <span class="va">dv_SEs</span><span class="op">)</span>

<span class="co"># basic bar graph</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span>,
                    group<span class="op">=</span><span class="va">factor_two</span>,
                    color<span class="op">=</span><span class="va">factor_two</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span>, position<span class="op">=</span><span class="st">"dodge"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-65-1.png" width="672"></div>
<div class="sourceCode" id="cb374"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># adding error bars, customizing</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span>,
                    group<span class="op">=</span><span class="va">factor_two</span>,
                    color<span class="op">=</span><span class="va">factor_two</span>,
                    fill<span class="op">=</span><span class="va">factor_two</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span>, position<span class="op">=</span><span class="st">"dodge"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>ymin<span class="op">=</span><span class="va">dv_means</span><span class="op">-</span><span class="va">dv_SEs</span>,
                    ymax<span class="op">=</span><span class="va">dv_means</span><span class="op">+</span><span class="va">dv_SEs</span><span class="op">)</span>,
                position<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html">position_dodge</a></span><span class="op">(</span>width<span class="op">=</span><span class="fl">0.9</span><span class="op">)</span>,
                width<span class="op">=</span><span class="fl">.2</span>,
                color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"x-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"y-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Bar graph 2 factors"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span>base_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-65-2.png" width="672"></div>
<p>3 factor</p>
<div class="sourceCode" id="cb375"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create a dataframe</span>
<span class="va">factor_one</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span><span class="op">)</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">factor_two</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"IIA"</span>,<span class="st">"IIB"</span><span class="op">)</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">factor_three</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"IIIA"</span>,<span class="st">"IIIB"</span><span class="op">)</span><span class="op">)</span>,each<span class="op">=</span><span class="fl">6</span><span class="op">)</span>
<span class="va">dv_means</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">30</span>,<span class="fl">40</span>,<span class="fl">20</span>,<span class="fl">40</span>,<span class="fl">40</span>,
              <span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">50</span>,<span class="fl">50</span>,<span class="fl">10</span>,<span class="fl">10</span><span class="op">)</span>
<span class="va">dv_SEs</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3.4</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>,
              <span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">factor_one</span>,
                      <span class="va">factor_two</span>,
                      <span class="va">factor_three</span>,
                      <span class="va">dv_means</span>,
                      <span class="va">dv_SEs</span><span class="op">)</span>

<span class="co"># basic bar graph</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span>,
                    group<span class="op">=</span><span class="va">factor_two</span>,
                    color<span class="op">=</span><span class="va">factor_two</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span>, position<span class="op">=</span><span class="st">"dodge"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">factor_three</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-66-1.png" width="672"></div>
</div>
<div id="line-graph" class="section level3" number="0.19.5">
<h3>
<span class="header-section-number">0.19.5</span> Line Graph<a class="anchor" aria-label="anchor" href="#line-graph"><i class="fas fa-link"></i></a>
</h3>
<p>1 factor</p>
<div class="sourceCode" id="cb376"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create a dataframe</span>
<span class="va">factor_one</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span><span class="op">)</span><span class="op">)</span>
<span class="va">dv_means</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">30</span>,<span class="fl">40</span><span class="op">)</span>
<span class="va">dv_SEs</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3.4</span>,<span class="fl">4</span><span class="op">)</span>
<span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">factor_one</span>,
                      <span class="va">dv_means</span>,
                      <span class="va">dv_SEs</span><span class="op">)</span>

<span class="co"># basic line graph</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span>, group<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-67-1.png" width="672"></div>
<div class="sourceCode" id="cb377"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># adding error bars, customizing</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span>, group<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>ymin<span class="op">=</span><span class="va">dv_means</span><span class="op">-</span><span class="va">dv_SEs</span>,
                    ymax<span class="op">=</span><span class="va">dv_means</span><span class="op">+</span><span class="va">dv_SEs</span><span class="op">)</span>,
                width<span class="op">=</span><span class="fl">.2</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"x-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"y-axis label"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"I made a line graph"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span>base_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-67-2.png" width="672"></div>
<p>2 factor</p>
<div class="sourceCode" id="cb378"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create a dataframe</span>
<span class="va">factor_one</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span><span class="op">)</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">factor_two</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"IIA"</span>,<span class="st">"IIB"</span><span class="op">)</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span>
<span class="va">dv_means</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">30</span>,<span class="fl">40</span>,<span class="fl">20</span>,<span class="fl">40</span>,<span class="fl">40</span><span class="op">)</span>
<span class="va">dv_SEs</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3.4</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span>
<span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">factor_one</span>,
                      <span class="va">factor_two</span>,
                      <span class="va">dv_means</span>,
                      <span class="va">dv_SEs</span><span class="op">)</span>

<span class="co"># basic line graph</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">factor_one</span>,y<span class="op">=</span><span class="va">dv_means</span>,
                    group<span class="op">=</span><span class="va">factor_two</span>,
                    color<span class="op">=</span><span class="va">factor_two</span>,
                    linetype<span class="op">=</span><span class="va">factor_two</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-68-1.png" width="672"></div>
</div>
<div id="histogram" class="section level3" number="0.19.6">
<h3>
<span class="header-section-number">0.19.6</span> Histogram<a class="anchor" aria-label="anchor" href="#histogram"><i class="fas fa-link"></i></a>
</h3>
<p>base R</p>
<div class="sourceCode" id="cb379"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-69-1.png" width="672"></div>
<div class="sourceCode" id="cb380"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">score</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span>
<span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">score</span>,<span class="va">n</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">score</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins<span class="op">=</span><span class="fl">10</span>,
                 color<span class="op">=</span><span class="st">"white"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="GS_R_Reference_files/figure-html/unnamed-chunk-70-1.png" width="672"></div>
</div>
</div>
<div id="knitr" class="section level2" number="0.20">
<h2>
<span class="header-section-number">0.20</span> knitr<a class="anchor" aria-label="anchor" href="#knitr"><i class="fas fa-link"></i></a>
</h2>
<p><code>knitr</code> is a package used to compile R markdown documents into other formats such as html (webpages) or pdf.</p>
<div id="knitting-to-pdf" class="section level3" number="0.20.1">
<h3>
<span class="header-section-number">0.20.1</span> knitting to pdf<a class="anchor" aria-label="anchor" href="#knitting-to-pdf"><i class="fas fa-link"></i></a>
</h3>
<p>A latex installation is required in order to knit to pdf. Latex is also free and cross-platform, however a complete installation is can be quite large.</p>
<p>I think the advice by Frederick Aust (an author of the <code>papaja</code> package) for installing latex is worth following:</p>
<ul>
<li><a href="https://crsh.github.io/papaja_man/introduction.html#getting-started" class="uri">https://crsh.github.io/papaja_man/introduction.html#getting-started</a></li>
</ul>
<p>Basically, the advice is to install a complete tex distribution (follow the above for links), or to use the <code>tinytex</code> package in R. The tinytex package should be sufficient for most knitting to pdf duties.</p>
<ol style="list-style-type: decimal">
<li>Install the tinytex library:</li>
</ol>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("tinytex")</a></code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Run this command after installing the library</li>
</ol>
<pre><code>tinytex::install_tex()</code></pre>
</div>
<div id="knitr-options" class="section level3" number="0.20.2">
<h3>
<span class="header-section-number">0.20.2</span> knitr options<a class="anchor" aria-label="anchor" href="#knitr-options"><i class="fas fa-link"></i></a>
</h3>
<p>When you create a new R Markdown document you will see the following code chunk underneath the yaml, at the beginning of the document. It usually looks like this:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb383-1"><a href="coding-reference.html#cb383-1"></a><span class="bn">```{r setup, include=FALSE}</span></span>
<span id="cb383-2"><a href="coding-reference.html#cb383-2"></a><span class="bn">knitr::opts_chunk$set(echo = TRUE)</span></span>
<span id="cb383-3"><a href="coding-reference.html#cb383-3"></a><span class="bn">```</span></span></code></pre></div>
<p>This chunk is named setup, it is not printed in your output, but <strong>it controls the global setup options</strong> for the whole document. Any option you set here applies to all of the remaining code chunks you create. It’s a way of setting defaults.</p>
<p>Here are some helpful defaults you can add. You turn the option on with <code>TRUE</code>, and turn it off with <code>FALSE</code>.</p>
<ul>
<li>
<code>echo=TRUE</code> sets the default to print all remaining code blocks to the output, <code>FALSE</code> sets the default to not print the code blocks</li>
<li>
<code>warning = FALSE</code> turns off printing of warnings</li>
<li>
<code>message = FALSE</code> turns off printing of messages, these commonly occur when you load a package, where you receive a message that the package was loaded</li>
<li>
<code>eval = FALSE</code> sets the default to <strong>NOT</strong> evaluate the code chunk as R Code. This will not run the code block, but the code block will still print if <code>echo=TRUE</code>
</li>
<li>
<code>error=TRUE</code> normally the knit fails when there is an error in the code. If you set <code>error=TRUE</code> the knit will complete, and return an error message for code blocks with errors.</li>
</ul>
<div class="sourceCode" id="cb384"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb384-1"><a href="coding-reference.html#cb384-1"></a><span class="bn">```{r setup, include=FALSE}</span></span>
<span id="cb384-2"><a href="coding-reference.html#cb384-2"></a><span class="bn">knitr::opts_chunk$set(echo = TRUE,</span></span>
<span id="cb384-3"><a href="coding-reference.html#cb384-3"></a><span class="bn">                      warning = FALSE,</span></span>
<span id="cb384-4"><a href="coding-reference.html#cb384-4"></a><span class="bn">                      message = FALSE, </span></span>
<span id="cb384-5"><a href="coding-reference.html#cb384-5"></a><span class="bn">                      eval = FALSE,</span></span>
<span id="cb384-6"><a href="coding-reference.html#cb384-6"></a><span class="bn">                      error = TRUE)</span></span>
<span id="cb384-7"><a href="coding-reference.html#cb384-7"></a><span class="bn">```</span></span></code></pre></div>
</div>
<div id="knitr-figure-output-defaults" class="section level3" number="0.20.3">
<h3>
<span class="header-section-number">0.20.3</span> knitr figure output defaults<a class="anchor" aria-label="anchor" href="#knitr-figure-output-defaults"><i class="fas fa-link"></i></a>
</h3>
<p>The following setup options are useful for figure output.</p>
<ul>
<li>
<code>fig.width = 3</code> sets the default width in inches for all figures</li>
<li>
<code>fig.height = 3</code> sets the default height in inches for all figures</li>
<li>
<code>fig.path = "myfigs/"</code> defines folder where figure files will be saved. This will be relative to your current working directoy</li>
<li>
<code>dev = c("pdf", "png")</code> tells knitr to output both .png, and .pdf versions of the figure. The .pdf contains vector graphics, meaning the figure can be resized without pixelization.</li>
</ul>
<div class="sourceCode" id="cb385"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb385-1"><a href="coding-reference.html#cb385-1"></a><span class="bn">```{r setup, include=FALSE}</span></span>
<span id="cb385-2"><a href="coding-reference.html#cb385-2"></a><span class="bn">knitr::opts_chunk$set(echo = TRUE,</span></span>
<span id="cb385-3"><a href="coding-reference.html#cb385-3"></a><span class="bn">                      fig.width = 3,</span></span>
<span id="cb385-4"><a href="coding-reference.html#cb385-4"></a><span class="bn">                      fig.height = 3,</span></span>
<span id="cb385-5"><a href="coding-reference.html#cb385-5"></a><span class="bn">                      fig.path = "myfigs/",</span></span>
<span id="cb385-6"><a href="coding-reference.html#cb385-6"></a><span class="bn">                      dev = c("pdf", "png"))</span></span>
<span id="cb385-7"><a href="coding-reference.html#cb385-7"></a><span class="bn">```</span></span></code></pre></div>
</div>
<div id="figure-output-per-code-block" class="section level3" number="0.20.4">
<h3>
<span class="header-section-number">0.20.4</span> figure output per code block<a class="anchor" aria-label="anchor" href="#figure-output-per-code-block"><i class="fas fa-link"></i></a>
</h3>
<p>You can set the options for remaining code blocks individually. These will overrule the default options that you specify in the setup chunk.</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb386-1"><a href="coding-reference.html#cb386-1"></a><span class="bn">```{r figurename, fig.width =5, fig.height =7}</span></span>
<span id="cb386-2"><a href="coding-reference.html#cb386-2"></a></span>
<span id="cb386-3"><a href="coding-reference.html#cb386-3"></a><span class="bn"># some code that generates a figure</span></span>
<span id="cb386-4"><a href="coding-reference.html#cb386-4"></a></span>
<span id="cb386-5"><a href="coding-reference.html#cb386-5"></a><span class="bn">```</span></span></code></pre></div>
</div>
</div>
<div id="tables" class="section level2" number="0.21">
<h2>
<span class="header-section-number">0.21</span> tables<a class="anchor" aria-label="anchor" href="#tables"><i class="fas fa-link"></i></a>
</h2>
<p>There are several useful (incredible even) packages for making tables in R. Here are a few:</p>
<ul>
<li>
<code>knitr</code> package and it’s <code>kable</code> function (Create tables in Latex, HTML, Markdown)</li>
<li>
<code>xtable</code> package, lots of functions for tables. <a href="https://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf">Here are some xtable examples xtable</a>
</li>
<li>
<code>kableExtra</code> lots of additional table functionality</li>
<li>
<code>tangram</code> a grammar of tables approach</li>
<li>
<code>papaja</code> for apa-style tables</li>
</ul>
<div id="important-table-info" class="section level3" number="0.21.1">
<h3>
<span class="header-section-number">0.21.1</span> Important table info<a class="anchor" aria-label="anchor" href="#important-table-info"><i class="fas fa-link"></i></a>
</h3>
<p>Two things to note, tables can be difficult, and there are different output formats.</p>
<ol style="list-style-type: decimal">
<li><p>Tables in R can be difficult. For example, if you are comfortable with making tables in Excel, then R will be much more difficult by comparison. In Excel, it is easy to enter information in any cell, merge any cells, add any kind of formatting you want anywhere, just by clicking around and making the changes. In R, every detail of the table is specified by script. Some of the table packages make simple tables easy (hurray!), and some of them make complicated tables possible (also good), but not necessarilly easy.</p></li>
<li><p>R can output tables in many formats including HTML for the web, Latex for .pdf, and other formats (e.g., word, markdown). Sometimes (depending on the functions you are using) you will run into issues with outputting tables in different formats. Or, you will have to take steps to ensure that you are outputting the table in the format that you want.</p></li>
</ol>
</div>
<div id="knitrkable" class="section level3" number="0.21.2">
<h3>
<span class="header-section-number">0.21.2</span> knitr::kable<a class="anchor" aria-label="anchor" href="#knitrkable"><i class="fas fa-link"></i></a>
</h3>
<p><code><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable()</a></code> is a function inside the knitr package. To use it you need to load the knitr library, or you can use <code><a href="https://rdrr.io/pkg/knitr/man/kable.html">knitr::kable()</a></code>, which tells R to find kable inside the knitr package if you haven’t loaded knitr using <code><a href="https://yihui.org/knitr/">library(knitr)</a></code>.</p>
<p><code><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable()</a></code> is great for quickly rendering data frames as nice tables without much hassle.</p>
<div class="sourceCode" id="cb387"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>A<span class="op">=</span><span class="fl">1</span>,
                 B<span class="op">=</span><span class="fl">2</span>,
                 C<span class="op">=</span><span class="fl">3</span>,
                 D<span class="op">=</span><span class="fl">4</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="right">A</th>
<th align="right">B</th>
<th align="right">C</th>
<th align="right">D</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">4</td>
</tr></tbody>
</table></div>
</div>
<div id="xtable" class="section level3" number="0.21.3">
<h3>
<span class="header-section-number">0.21.3</span> xtable<a class="anchor" aria-label="anchor" href="#xtable"><i class="fas fa-link"></i></a>
</h3>
<p>Look at the xtable examples document for more info. <a href="https://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf">https://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf</a></p>
<div class="sourceCode" id="cb388"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://xtable.r-forge.r-project.org/">xtable</a></span><span class="op">)</span> <span class="co"># load xtable</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">tli</span><span class="op">)</span> <span class="co"># loads a sample data frame</span>

<span class="co"># conduct an ANOVA</span>
 <span class="va">fm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/aov.html">aov</a></span><span class="op">(</span><span class="va">tlimth</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">ethnicty</span> <span class="op">+</span> <span class="va">grade</span> <span class="op">+</span> <span class="va">disadvg</span>, data <span class="op">=</span> <span class="va">tli</span><span class="op">)</span>
 
<span class="co"># print the table for HTML using xtable and kable together</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/xtable/man/xtable.html">xtable</a></span><span class="op">(</span><span class="va">fm1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">Sum Sq</th>
<th align="right">Mean Sq</th>
<th align="right">F value</th>
<th align="right">Pr(&gt;F)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">sex</td>
<td align="right">1</td>
<td align="right">75.37255</td>
<td align="right">75.37255</td>
<td align="right">0.3751912</td>
<td align="right">0.5416830</td>
</tr>
<tr class="even">
<td align="left">ethnicty</td>
<td align="right">3</td>
<td align="right">2572.14918</td>
<td align="right">857.38306</td>
<td align="right">4.2679008</td>
<td align="right">0.0071831</td>
</tr>
<tr class="odd">
<td align="left">grade</td>
<td align="right">1</td>
<td align="right">36.30740</td>
<td align="right">36.30740</td>
<td align="right">0.1807318</td>
<td align="right">0.6717271</td>
</tr>
<tr class="even">
<td align="left">disadvg</td>
<td align="right">1</td>
<td align="right">59.30338</td>
<td align="right">59.30338</td>
<td align="right">0.2952017</td>
<td align="right">0.5882062</td>
</tr>
<tr class="odd">
<td align="left">Residuals</td>
<td align="right">93</td>
<td align="right">18682.86749</td>
<td align="right">200.89105</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb389"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this will print a table in latex for .pdf</span>
<span class="co"># xtable(fm1)</span></code></pre></div>
</div>
<div id="kableextra" class="section level3" number="0.21.4">
<h3>
<span class="header-section-number">0.21.4</span> kableExtra<a class="anchor" aria-label="anchor" href="#kableextra"><i class="fas fa-link"></i></a>
</h3>
<p>There are many great things about <code>kableExtra</code>. One great thing is that <code>kableExtra</code> has unique table options for html and for formatting to .pdf through latex. For example, interactive tables are possible in html, but not in .pdf. Another great thing is the ability to add rows of headers on top of each other. For example, data.frames in R only have one row of headers for the columns, <code>kableExtra</code> can add more on top.</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">HTML info for kableExtra</a></li>
<li><a href="http://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf">Latex info (pdf) for kableExtra</a></li>
</ul>
<div class="sourceCode" id="cb390"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span></code></pre></div>
<pre><code>## 
## Attaching package: 'kableExtra'</code></pre>
<pre><code>## The following object is masked from 'package:dplyr':
## 
##     group_rows</code></pre>
<div class="sourceCode" id="cb393"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>A<span class="op">=</span><span class="fl">1</span>,
                 B<span class="op">=</span><span class="fl">2</span>,
                 C<span class="op">=</span><span class="fl">3</span>,
                 D<span class="op">=</span><span class="fl">4</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span><span class="st">"striped"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/add_header_above.html">add_header_above</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Group 1"</span> <span class="op">=</span> <span class="fl">2</span>, <span class="st">"Group 2"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Group 1
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Group 2
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
C
</th>
<th style="text-align:right;">
D
</th>
</tr>
</thead>
<tbody><tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
</tr></tbody>
</table></div>
</div>
<div id="tangram" class="section level3" number="0.21.5">
<h3>
<span class="header-section-number">0.21.5</span> tangram<a class="anchor" aria-label="anchor" href="#tangram"><i class="fas fa-link"></i></a>
</h3>
<p>This package implements a grammar of tables. Similar to the concept behind <code>ggplot2</code>, which implements a grammar of graphics for figures.</p>
<ul>
<li><a href="https://github.com/spgarbet/tangram">tangram github</a></li>
<li><a href="http://htmlpreview.github.io/?https://raw.githubusercontent.com/spgarbet/tangram/master/inst/doc/example.html">tangram html examples</a></li>
</ul>
</div>
</div>
<div id="papaja" class="section level2" number="0.22">
<h2>
<span class="header-section-number">0.22</span> papaja<a class="anchor" aria-label="anchor" href="#papaja"><i class="fas fa-link"></i></a>
</h2>
<p><code>papaja</code> is a package for rendering APA-style manuscripts in pdf using R Markdown. We will learn more about <code>papaja</code> in class. One feature of <code>papaja</code> is that it supports APA-style tables.</p>
<ul>
<li><a href="https://crsh.github.io/papaja_man/">papaja documentation</a></li>
<li><a href="https://crsh.github.io/papaja_man/reporting.html#tables">papaja APA tables</a></li>
</ul>
<div id="installing-papaja" class="section level3" number="0.22.1">
<h3>
<span class="header-section-number">0.22.1</span> Installing papaja<a class="anchor" aria-label="anchor" href="#installing-papaja"><i class="fas fa-link"></i></a>
</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Oo-PobY1dgY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>papaja requires a latex installation in order to compile .Rmd documents to pdf. The papaja documentation provides some guidance on installing latex and then papaja, see the <a href="https://crsh.github.io/papaja_man/introduction.html#getting-started">getting started section</a>.</p>
<p>You can also watch this video, which goes through some of the same steps below:</p>
<div class="sourceCode" id="cb394"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## install tinytex</span>
<span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">"tinytex"</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tinytex"</span><span class="op">)</span>

<span class="co">## initialize tinytex</span>
<span class="fu">tinytex</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tinytex/man/install_tinytex.html">install_tinytex</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Install devtools package if necessary</span>
<span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">"devtools"</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>

<span class="co"># Install the stable development verions from GitHub</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"crsh/papaja"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="vectorized-approaches" class="section level2" number="0.23">
<h2>
<span class="header-section-number">0.23</span> Vectorized approaches<a class="anchor" aria-label="anchor" href="#vectorized-approaches"><i class="fas fa-link"></i></a>
</h2>
<p>Loops are a common tool for doing something many times. R can accomplish the goal of “doing something many times” without loops, using a vectorized approach.</p>
<div id="basic-examples" class="section level3" number="0.23.1">
<h3>
<span class="header-section-number">0.23.1</span> Basic examples<a class="anchor" aria-label="anchor" href="#basic-examples"><i class="fas fa-link"></i></a>
</h3>
<p>Let’s take a close look at some very basic differences between using a loop, and using R’s vectorized approach</p>
<p>Consider the problem of adding a single number to all of the numbers in a vector.</p>
<div class="sourceCode" id="cb395"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nums</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>

<span class="co"># vectorized approach</span>
<span class="co"># R automatically adds 1 to all of the numbers</span>
<span class="va">nums</span><span class="op">+</span><span class="fl">1</span></code></pre></div>
<pre><code>## [1] 2 3 4 5</code></pre>
<div class="sourceCode" id="cb397"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># loop approach</span>
<span class="co"># much longer to write out</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">nums</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="va">nums</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">nums</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">+</span><span class="fl">1</span>
<span class="op">}</span>
<span class="va">nums</span></code></pre></div>
<pre><code>## [1] 2 3 4 5</code></pre>
<p>How about adding two vectors together, so we add the first two numbers together, then the second two numbers etc.</p>
<div class="sourceCode" id="cb399"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>
<span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>

<span class="co"># vectorized approach</span>
<span class="va">A</span><span class="op">+</span><span class="va">B</span></code></pre></div>
<pre><code>## [1] 2 4 6 8</code></pre>
<div class="sourceCode" id="cb401"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># loop approach</span>
<span class="va">the_sum</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="va">the_sum</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">A</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">+</span><span class="va">B</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>
<span class="op">}</span>
<span class="va">the_sum</span></code></pre></div>
<pre><code>## [1] 2 4 6 8</code></pre>
<p>How about comparing the identity of the elements in two vectors to see if they are the same or not?</p>
<div class="sourceCode" id="cb403"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="st">"e"</span>,<span class="st">"f"</span>,<span class="st">"g"</span><span class="op">)</span>
<span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"d"</span>,<span class="st">"e"</span>,<span class="st">"f"</span>,<span class="st">"g"</span><span class="op">)</span>

<span class="co">#vectorized approach</span>
<span class="va">A</span><span class="op">==</span><span class="va">B</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb405"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># loop approach</span>
<span class="va">compared</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">A</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">==</span><span class="va">B</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">{</span>
    <span class="va">compared</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">compared</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span>
  <span class="op">}</span>
<span class="op">}</span>
<span class="va">compared</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE  TRUE</code></pre>
</div>
<div id="replicate" class="section level3" number="0.23.2">
<h3>
<span class="header-section-number">0.23.2</span> Replicate<a class="anchor" aria-label="anchor" href="#replicate"><i class="fas fa-link"></i></a>
</h3>
<p><code><a href="https://rdrr.io/r/base/lapply.html">replicate(n, expr)</a></code> allows you to repeat a function many times, and return the answer in a vector</p>
<div class="sourceCode" id="cb407"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># returns 1 randomly sampled number from 1 to 10</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb409"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># let's repeat the above 10 times using replicate</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 9 8 5 4 7 4 3 5 8 7</code></pre>
<p>The next example shows how to write a function to do something, and then use the function inside replicate to repeat the function many times.</p>
<p>For example, we write a function to run a one-sample t-test on a random sample drawn from a normal distribution</p>
<div class="sourceCode" id="cb411"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ttest_result</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span>
  <span class="va">sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>
  <span class="va">t_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">sample</span>, mu<span class="op">=</span><span class="fl">0</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">t_out</span><span class="op">$</span><span class="va">statistic</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># get 10 t-values from repeating the above 10 times</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fu">ttest_result</span><span class="op">(</span><span class="op">)</span> <span class="op">)</span></code></pre></div>
<pre><code>##          t          t          t          t          t          t          t 
##  1.2285797 -1.2046597 -0.3494351  0.7185505  0.5159204 -1.3921941 -0.5216106 
##          t          t          t 
##  0.6332596 -1.2184595 -0.5722303</code></pre>
</div>
<div id="apply-family" class="section level3" number="0.23.3">
<h3>
<span class="header-section-number">0.23.3</span> apply family<a class="anchor" aria-label="anchor" href="#apply-family"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>apply</code> family of functions can be used to “apply” a function across elements of an object. A general overview can be found <a href="https://www.datacamp.com/community/tutorials/r-tutorial-apply-family">here</a></p>
<p>Some of the apply functions include: <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code>, <code>lapply</code>, and <code>sapply</code>.</p>
</div>
<div id="lapply-and-sapply" class="section level3" number="0.23.4">
<h3>
<span class="header-section-number">0.23.4</span> lapply and sapply<a class="anchor" aria-label="anchor" href="#lapply-and-sapply"><i class="fas fa-link"></i></a>
</h3>
<p>Here is part of the definition of lapply from the help file:</p>
<p>lapply returns a list of the same length as X, each element of which is the result of applying FUN to the corresponding element of X.</p>
<p>Let’s see some examples:</p>
<p>Let’s apply a function to each of the elements in a vector. To keep things simple, our function will add 1 to a number</p>
<div class="sourceCode" id="cb413"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">some_numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>

<span class="va">add_one</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># returns a list, containing the answers</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">some_numbers</span>, <span class="va">add_one</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3
## 
## [[3]]
## [1] 4
## 
## [[4]]
## [1] 5</code></pre>
<div class="sourceCode" id="cb415"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># unlists the list</span>
<span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">some_numbers</span>,<span class="va">add_one</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2 3 4 5</code></pre>
<div class="sourceCode" id="cb417"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># sapply does the unlisting for you</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">some_numbers</span>, <span class="va">add_one</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2 3 4 5</code></pre>
<p>An alternative syntax for lapply and sapply let’s you define the function you want to apply inside the <code>lapply</code> or <code>sapply</code> function.</p>
<p>In this case, each element in the vector <code>some_numbers</code> will become the <code>x</code> value in the function.</p>
<div class="sourceCode" id="cb419"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">some_numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">some_numbers</span>, FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="va">x</span><span class="op">+</span><span class="fl">1</span><span class="op">}</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3
## 
## [[3]]
## [1] 4
## 
## [[4]]
## [1] 5</code></pre>
<div class="sourceCode" id="cb421"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">some_numbers</span>, FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="va">x</span><span class="op">+</span><span class="fl">1</span><span class="op">}</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2 3 4 5</code></pre>
</div>
<div id="apply" class="section level3" number="0.23.5">
<h3>
<span class="header-section-number">0.23.5</span> apply<a class="anchor" aria-label="anchor" href="#apply"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>apply</code> function can be used on 2-dimensional data, and allows you to apply a function across the rows or the columns of the data.</p>
<p>Let’s say you had a 5x5 matrix of random numbers. Let’s find the sum of each row</p>
<div class="sourceCode" id="cb423"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">random_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="fl">25</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">5</span><span class="op">)</span>

<span class="co"># applies the sum function to each row</span>
<span class="co"># 1 tells apply to go across rows</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">random_matrix</span>,<span class="fl">1</span>,<span class="va">sum</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 33 20 39 29 17</code></pre>
<p>The sum of each column</p>
<div class="sourceCode" id="cb425"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># applies the sum function to each column</span>
<span class="co"># 2 tells apply to go across columns</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">random_matrix</span>, <span class="fl">2</span>, <span class="va">sum</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 28 31 20 21 38</code></pre>
<p>Let’s say we have a matrix storing 3 samples. Each sample has 10 numbers. Each sample is stored in a column, and each row represents an observation.</p>
<div class="sourceCode" id="cb427"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sample_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<p>Let’s use apply to conduct 10 one-sample t-tests, one for each column. In this example, we can pass the <code>mu=0</code> parameter into the <code>t.test</code> function. However, we will return the entire ouput of each t-test in a list.</p>
<div class="sourceCode" id="cb428"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">sample_matrix</span>,<span class="fl">2</span>,<span class="va">t.test</span>, mu<span class="op">=</span><span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## 
##  One Sample t-test
## 
## data:  newX[, i]
## t = -0.21055, df = 9, p-value = 0.8379
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  -0.7203009  0.5976341
## sample estimates:
##   mean of x 
## -0.06133339 
## 
## 
## [[2]]
## 
##  One Sample t-test
## 
## data:  newX[, i]
## t = -0.2568, df = 9, p-value = 0.8031
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  -0.7290393  0.5803925
## sample estimates:
##   mean of x 
## -0.07432344 
## 
## 
## [[3]]
## 
##  One Sample t-test
## 
## data:  newX[, i]
## t = -0.89387, df = 9, p-value = 0.3947
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  -0.8796071  0.3813526
## sample estimates:
##  mean of x 
## -0.2491273</code></pre>
<p>What if we wanted to return only the t-values, rather than whole output?</p>
<p>You might try this, but it doesn’t work</p>
<div class="sourceCode" id="cb430"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">sample_matrix</span>,<span class="fl">2</span>,<span class="va">t.test</span><span class="op">$</span><span class="va">statistic</span>, mu<span class="op">=</span><span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## Error in t.test$statistic: object of type 'closure' is not subsettable</code></pre>
<p>So, we write a custom function</p>
<div class="sourceCode" id="cb432"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">sample_matrix</span>, <span class="fl">2</span>, 
      FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
        <span class="va">t_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">x</span>,mu<span class="op">=</span><span class="fl">0</span><span class="op">)</span>
        <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">t_out</span><span class="op">$</span><span class="va">statistic</span><span class="op">)</span>
      <span class="op">}</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -0.2105502 -0.2568004 -0.8938669</code></pre>

</div>
</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="practice-problems.html">Practice problems</a></div>
<div class="next"><a href="basics.html"><span class="header-section-number">1</span> Basics</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#coding-reference">Coding Reference</a></li>
<li><a class="nav-link" href="#base-r"><span class="header-section-number">0.11</span> Base R</a></li>
<li>
<a class="nav-link" href="#variables"><span class="header-section-number">0.12</span> Variables</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#vectors"><span class="header-section-number">0.12.1</span> Vectors</a></li>
<li><a class="nav-link" href="#data.frame"><span class="header-section-number">0.12.2</span> Data.frame</a></li>
<li><a class="nav-link" href="#lists"><span class="header-section-number">0.12.3</span> Lists</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#logic"><span class="header-section-number">0.13</span> Logic</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#equal-to"><span class="header-section-number">0.13.1</span> equal to ==</a></li>
<li><a class="nav-link" href="#not-equal-to"><span class="header-section-number">0.13.2</span> not equal to !=</a></li>
<li><a class="nav-link" href="#greater-than-less-than"><span class="header-section-number">0.13.3</span> Greater than/ less than</a></li>
<li><a class="nav-link" href="#section"><span class="header-section-number">0.13.4</span> &gt;= &lt;=</a></li>
<li><a class="nav-link" href="#and"><span class="header-section-number">0.13.5</span> AND</a></li>
<li><a class="nav-link" href="#or"><span class="header-section-number">0.13.6</span> OR</a></li>
<li><a class="nav-link" href="#true-false"><span class="header-section-number">0.13.7</span> TRUE FALSE</a></li>
</ul>
</li>
<li><a class="nav-link" href="#if-else"><span class="header-section-number">0.14</span> IF ELSE</a></li>
<li>
<a class="nav-link" href="#loops"><span class="header-section-number">0.15</span> Loops</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#breaking-a-loop"><span class="header-section-number">0.15.1</span> Breaking a loop</a></li>
<li><a class="nav-link" href="#while-loops"><span class="header-section-number">0.15.2</span> While loops</a></li>
<li><a class="nav-link" href="#repeat-loops"><span class="header-section-number">0.15.3</span> Repeat loops</a></li>
<li><a class="nav-link" href="#examples"><span class="header-section-number">0.15.4</span> Examples</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#functions"><span class="header-section-number">0.16</span> Functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#function-syntax"><span class="header-section-number">0.16.1</span> function syntax</a></li>
<li><a class="nav-link" href="#example-functions"><span class="header-section-number">0.16.2</span> example functions</a></li>
</ul>
</li>
<li><a class="nav-link" href="#tidyverse"><span class="header-section-number">0.17</span> Tidyverse</a></li>
<li>
<a class="nav-link" href="#dplyr"><span class="header-section-number">0.18</span> dplyr</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#group_by-and-summarize"><span class="header-section-number">0.18.1</span> group_by and summarize</a></li>
<li><a class="nav-link" href="#filter"><span class="header-section-number">0.18.2</span> filter</a></li>
<li><a class="nav-link" href="#select"><span class="header-section-number">0.18.3</span> select</a></li>
<li><a class="nav-link" href="#mutate"><span class="header-section-number">0.18.4</span> mutate</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#ggplot2"><span class="header-section-number">0.19</span> ggplot2</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#ggplot2-additional-resources"><span class="header-section-number">0.19.1</span> ggplot2 additional resources</a></li>
<li><a class="nav-link" href="#example-code"><span class="header-section-number">0.19.2</span> Example code</a></li>
<li><a class="nav-link" href="#scatterplot"><span class="header-section-number">0.19.3</span> Scatterplot</a></li>
<li><a class="nav-link" href="#bar-graph"><span class="header-section-number">0.19.4</span> bar graph</a></li>
<li><a class="nav-link" href="#line-graph"><span class="header-section-number">0.19.5</span> Line Graph</a></li>
<li><a class="nav-link" href="#histogram"><span class="header-section-number">0.19.6</span> Histogram</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#knitr"><span class="header-section-number">0.20</span> knitr</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#knitting-to-pdf"><span class="header-section-number">0.20.1</span> knitting to pdf</a></li>
<li><a class="nav-link" href="#knitr-options"><span class="header-section-number">0.20.2</span> knitr options</a></li>
<li><a class="nav-link" href="#knitr-figure-output-defaults"><span class="header-section-number">0.20.3</span> knitr figure output defaults</a></li>
<li><a class="nav-link" href="#figure-output-per-code-block"><span class="header-section-number">0.20.4</span> figure output per code block</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#tables"><span class="header-section-number">0.21</span> tables</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#important-table-info"><span class="header-section-number">0.21.1</span> Important table info</a></li>
<li><a class="nav-link" href="#knitrkable"><span class="header-section-number">0.21.2</span> knitr::kable</a></li>
<li><a class="nav-link" href="#xtable"><span class="header-section-number">0.21.3</span> xtable</a></li>
<li><a class="nav-link" href="#kableextra"><span class="header-section-number">0.21.4</span> kableExtra</a></li>
<li><a class="nav-link" href="#tangram"><span class="header-section-number">0.21.5</span> tangram</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#papaja"><span class="header-section-number">0.22</span> papaja</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#installing-papaja"><span class="header-section-number">0.22.1</span> Installing papaja</a></li></ul>
</li>
<li>
<a class="nav-link" href="#vectorized-approaches"><span class="header-section-number">0.23</span> Vectorized approaches</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#basic-examples"><span class="header-section-number">0.23.1</span> Basic examples</a></li>
<li><a class="nav-link" href="#replicate"><span class="header-section-number">0.23.2</span> Replicate</a></li>
<li><a class="nav-link" href="#apply-family"><span class="header-section-number">0.23.3</span> apply family</a></li>
<li><a class="nav-link" href="#lapply-and-sapply"><span class="header-section-number">0.23.4</span> lapply and sapply</a></li>
<li><a class="nav-link" href="#apply"><span class="header-section-number">0.23.5</span> apply</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/CrumpLab/psyc7709Lab/bookdown/blob/master/GS_R_Reference.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/CrumpLab/psyc7709Lab/bookdown/edit/master/GS_R_Reference.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Reproducible statistics for psychologists with R</strong>: Lab Tutorials" was written by Matthew J. C. Crump. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
